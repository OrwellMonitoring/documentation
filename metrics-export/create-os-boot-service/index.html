<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-metrics-export/create-os-boot-service">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/documentation/blog/rss.xml" title="Orwell RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/documentation/blog/atom.xml" title="Orwell Atom Feed"><title data-rh="true">How to create an OS boot service | Orwell</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://orwellmonitoring.github.io//documentation/metrics-export/create-os-boot-service"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How to create an OS boot service | Orwell"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/documentation/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://orwellmonitoring.github.io//documentation/metrics-export/create-os-boot-service"><link data-rh="true" rel="alternate" href="https://orwellmonitoring.github.io//documentation/metrics-export/create-os-boot-service" hreflang="en"><link data-rh="true" rel="alternate" href="https://orwellmonitoring.github.io//documentation/metrics-export/create-os-boot-service" hreflang="x-default"><link rel="stylesheet" href="/documentation/assets/css/styles.7710f3fb.css">
<link rel="preload" href="/documentation/assets/js/runtime~main.e397893c.js" as="script">
<link rel="preload" href="/documentation/assets/js/main.1d6a9b4c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://orwellmonitoring.github.io" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/documentation/img/orwell_logo.png" alt="Orwell&#x27;s Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/documentation/img/orwell_logo.png" alt="Orwell&#x27;s Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Orwell</b></a><a class="navbar__item navbar__link navbar__link--active" href="/documentation/">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/OrwellMonitoring" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/documentation/core/api">Orwell Core</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/documentation/deployment/system-agents">Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/documentation/security/suricata">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/documentation/metrics-export/create-os-boot-service">Metrics Collection</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/documentation/metrics-export/create-os-boot-service">How to create an OS boot service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/metrics-export/perfsonar">PerfSonar Utils</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/pythonPackage">Python Package</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/translators">Metrics Translators</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/documentation/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Metrics Collection</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">How to create an OS boot service</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>How to create an OS boot service</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">‚Äã</a></h2><p>This document serves as support for the creation of services in OS, i.e., services that run in the operating system to perform specific tasks.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="where-are-the-services">Where are the services?<a class="hash-link" href="#where-are-the-services" title="Direct link to heading">‚Äã</a></h2><p>The services to be run by the operating system must be located in the following directory: <code>/etc/systemd/system</code>.
Within this directory, the file (&#x27;.service&#x27;) in which the new service is created must be created, i.e. <code>example.service</code></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="structure-of--service-file">Structure of  <code>.service</code> file<a class="hash-link" href="#structure-of--service-file" title="Direct link to heading">‚Äã</a></h2><p>This files have 3 big groups : <!-- -->[Unit]<!-- -->, <!-- -->[Service]<!-- -->, <!-- -->[Install]</p><ul><li><p>[Unit]<!-- --> </p><ul><li><strong>Description</strong> = A short description of the unit.</li><li><strong>Documentation</strong> =	A list of URIs referencing documentation.</li><li><strong>Before, After</strong> =	The order in which units are started.</li><li><strong>Requires</strong> = If this unit gets activated, the units listed here will be activated as well. If one of the other units gets deactivated or fails, this unit will be deactivated.</li><li><strong>Wants</strong> =	Configures weaker dependencies than Requires. If any of the listed units does not start successfully, it has no impact on the unit activation. This is the recommended way to establish custom unit dependencies.</li><li><strong>Conflicts</strong> =	If a unit has a Conflicts setting on another unit, starting the former will stop the latter and vice versa.</li></ul></li><li><p>[Service]</p><ul><li><strong>Type</strong> = Configures the process start-up type</li><li><strong>ExecStart</strong> = Commands with arguments to execute when the service is started. </li><li><strong>ExecStop</strong> = Commands to execute to stop the service started via ExecStart.</li><li><strong>ExecReload</strong> = Commands to execute to trigger a configuration reload in the service.</li><li><strong>Restart</strong> = With this option enabled, the service shall be restarted when the service process exits, is killed, or a timeout is reached with the exception of a normal stop by the systemctl stop command.</li><li><strong>RemainAfterExit</strong> = If set to True, the service is considered active even when all its processes exited. Useful with Type = o neshot. Default value is False.</li></ul></li><li><p>[Install]</p><ul><li><strong>Alias</strong> = A space-separated list of additional names for the unit. Most systemctl commands, excluding systemctl enable, can use aliases instead of the actual unit name.</li><li><strong>RequiredBy, WantedBy</strong> = The current service will be started when the listed services are started. See the description of Wants and Requires in the <!-- -->[Unit]<!-- --> section for details.</li><li><strong>Also</strong> = Specifies a list of units to be enabled or disabled along with this unit when a user runs systemctl enable or systemctl disable.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="example-of-a-simple-service">Example of a simple service<a class="hash-link" href="#example-of-a-simple-service" title="Direct link to heading">‚Äã</a></h2><p><img loading="lazy" alt="service" src="/documentation/assets/images/service-a0b2eced3287a431e33dce6b1d8e6919.jpg" width="733" height="161" class="img_E7b_"> </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="important-commands-that-can-be-useful">Important commands that can be useful<a class="hash-link" href="#important-commands-that-can-be-useful" title="Direct link to heading">‚Äã</a></h2><p>Reload the service files to include the new service. (Mandatory)<br>
<code>sudo systemctl daemon-reload</code></p><p>Start your service (Mandatory)<br>
<code>sudo systemctl start your-service.service</code></p><p>To check the status of your service (Optional)<br>
<code>sudo systemctl status example.service</code><br>
<code>sudo systemctl -l --no-pager  status example.service</code> (This command give you a more detailed information, super important for DEBUG) </p><p>To enable your service on every reboot (Optional)<br>
<code>sudo systemctl enable example.service</code></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/documentation/security/infection-monkey"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Infection Monkey</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/documentation/metrics-export/perfsonar"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">PerfSonar Utils</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#where-are-the-services" class="table-of-contents__link toc-highlight">Where are the services?</a></li><li><a href="#structure-of--service-file" class="table-of-contents__link toc-highlight">Structure of  <code>.service</code> file</a></li><li><a href="#example-of-a-simple-service" class="table-of-contents__link toc-highlight">Example of a simple service</a></li><li><a href="#important-commands-that-can-be-useful" class="table-of-contents__link toc-highlight">Important commands that can be useful</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Orwell Monitoring. Built with Docusaurus.</div></div></div></footer></div>
<script src="/documentation/assets/js/runtime~main.e397893c.js"></script>
<script src="/documentation/assets/js/main.1d6a9b4c.js"></script>
</body>
</html>