"use strict";(self.webpackChunkorwell_docs=self.webpackChunkorwell_docs||[]).push([[770],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return m}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(r),m=a,v=d["".concat(l,".").concat(m)]||d[m]||p[m]||o;return r?n.createElement(v,i(i({ref:t},u),{},{components:r})):n.createElement(v,i({ref:t},u))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},8006:function(e,t,r){r.r(t),r.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return p}});var n=r(7462),a=r(3366),o=(r(7294),r(3905)),i=["components"],s={sidebar_position:1,custom_edit_url:null},l="How to create an OS boot service",c={unversionedId:"getting-started/create-os-boot-service",id:"getting-started/create-os-boot-service",title:"How to create an OS boot service",description:"Introdu\xe7\xe3o",source:"@site/docs/getting-started/create-os-boot-service.md",sourceDirName:"getting-started",slug:"/getting-started/create-os-boot-service",permalink:"/documentation/docs/getting-started/create-os-boot-service",editUrl:null,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"Translate your site",permalink:"/documentation/docs/tutorial-extras/translate-your-site"}},u={},p=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Onde ficam os servi\xe7os?",id:"onde-ficam-os-servi\xe7os",level:2},{value:"Estrutura do ficheiro <code>.service</code>",id:"estrutura-do-ficheiro-service",level:2},{value:"Comandos importantes para colocar o servi\xe7o a correr ou de suporte",id:"comandos-importantes-para-colocar-o-servi\xe7o-a-correr-ou-de-suporte",level:2}],d={toc:p};function m(e){var t=e.components,r=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"how-to-create-an-os-boot-service"},"How to create an OS boot service"),(0,o.kt)("h2",{id:"introdu\xe7\xe3o"},"Introdu\xe7\xe3o"),(0,o.kt)("p",null,"Este documento serve como apoio para criar servi\xe7os no OS, ou seja, servi\xe7os que v\xe3o estar a correr no sistema operativo para executar determinadas tarefas."),(0,o.kt)("h2",{id:"onde-ficam-os-servi\xe7os"},"Onde ficam os servi\xe7os?"),(0,o.kt)("p",null,"Os servi\xe7os que v\xe3o ser corridos pelo sistema operativo devem ficar na seguinte diretoria: ",(0,o.kt)("inlineCode",{parentName:"p"},"/etc/systemd/system"),"\nDentro desta diretoria deve ser criado o ficheiro (",(0,o.kt)("inlineCode",{parentName:"p"},".service"),"), onde o novo servi\xe7o vai ser criado , isto \xe9, example.service"),(0,o.kt)("h2",{id:"estrutura-do-ficheiro-service"},"Estrutura do ficheiro ",(0,o.kt)("inlineCode",{parentName:"h2"},".service")),(0,o.kt)("p",null,"Um ficheiro ",(0,o.kt)("inlineCode",{parentName:"p"},".service")," divide-se em 3 grandes grupos, ","[Unit]",", ","[Service]",", ","[Install]"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"[Unit]"," "),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Description")," = A short description of the unit."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Documentation")," =\tA list of URIs referencing documentation."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Before, After")," =\tThe order in which units are started."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Requires")," = If this unit gets activated, the units listed here will be activated as well. If one of the other units gets deactivated or fails, this unit will be deactivated."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Wants")," =\tConfigures weaker dependencies than Requires. If any of the listed units does not start successfully, it has no impact on the unit activation. This is the recommended way to establish custom unit dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Conflicts")," =\tIf a unit has a Conflicts setting on another unit, starting the former will stop the latter and vice versa."))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"[Service]"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Type")," = Configures the process start-up type"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"ExecStart")," = Commands with arguments to execute when the service is started. "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"ExecStop")," = Commands to execute to stop the service started via ExecStart."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"ExecReload")," = Commands to execute to trigger a configuration reload in the service."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Restart")," = With this option enabled, the service shall be restarted when the service process exits, is killed, or a timeout is reached with the exception of a normal stop by the systemctl stop command."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"RemainAfterExit")," = If set to True, the service is considered active even when all its processes exited. Useful with Type = o neshot. Default value is False."))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"[Install]"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Alias")," = A space-separated list of additional names for the unit. Most systemctl commands, excluding systemctl enable, can use aliases instead of the actual unit name."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"RequiredBy, WantedBy")," = The current service will be started when the listed services are started. See the description of Wants and Requires in the ","[Unit]"," section for details."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Also")," = Specifies a list of units to be enabled or disabled along with this unit when a user runs systemctl enable or systemctl disable.")))),(0,o.kt)("h2",{id:"comandos-importantes-para-colocar-o-servi\xe7o-a-correr-ou-de-suporte"},"Comandos importantes para colocar o servi\xe7o a correr ou de suporte"),(0,o.kt)("p",null,"Reload the service files to include the new service. (Mandatory)",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"sudo systemctl daemon-reload")),(0,o.kt)("p",null,"Start your service (Mandatory)",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"sudo systemctl start your-service.service")),(0,o.kt)("p",null,"To check the status of your service (Optional)",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"sudo systemctl status example.service"),(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"sudo systemctl -l --no-pager  status example.service")," (This command give you a more detailed information, super important for DEBUG) "),(0,o.kt)("p",null,"To enable your service on every reboot (Optional)",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"sudo systemctl enable example.service")))}m.isMDXComponent=!0}}]);